import{A,I as M,K as y,L as B,M as P,N as u,O as T,P as F,Q as h,R as D,S as R,T as U,V as q,W as G,X as W,Y as E,d as g,e as x,h as L,j as m,l as z,m as t,n as N,o as n,p as i,q as v,r as H,s as f,t as l,u as o,v as d,w as S,x as w,y as k,z as b}from"./chunk-VSH5LXSF.js";var O=(()=>{let c=class c{constructor(e,a,r,V){this.characterService=e,this.searchService=a,this.loadingService=r,this.ref=V,this.destroy$=new x,this._characters=[],this.totalResults=0,this.qryCharacter={name:"",nameStartsWith:"",orderBy:["name"],limit:24,offset:0},this.paginate={currentPage:1,countPage:1}}ngOnInit(){this.searchService.currentSearchQuery.pipe(L(this.destroy$)).subscribe(e=>{this.qryCharacter.nameStartsWith=e,this.paginate.currentPage=1,this.getCharacters()})}getCharacters(){let{id:e}=this.loadingService.create(this.ref,D);this.characterService.getCharacters$(this.qryCharacter).pipe(L(this.destroy$)).subscribe(a=>{console.log(a),this._characters=a.data.results,this.totalResults=a.data.total,this.paginate.countPage=Math.floor(a.data.total/a.data.limit)+1,this.paginate.currentPage=Math.floor((a.data.offset+a.data.limit)/a.data.limit),this.loadingService.close(e)})}onSearchChange(e){this.searchService.changeSearchQuery(e.target.value)}changePage(e){this.paginate.currentPage=e,this.qryCharacter.limit&&(this.qryCharacter.offset=this.qryCharacter.limit*e-this.qryCharacter.limit),this.getCharacters()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get characters(){return new g(e=>e.next(this._characters))}};c.\u0275fac=function(a){return new(a||c)(i(M),i(q),i(h),i(v))},c.\u0275cmp=z({type:c,selectors:[["app-home"]],decls:12,vars:7,consts:[[1,"container","mt-4","text-center"],[1,"row","justify-content-end","mb-3","px-4"],[1,"col-12","col-sm-8","col-md-6","mb-2"],[3,"onSearch"],[3,"characters"],[1,"row","justify-content-between","px-4","mt-3"],[1,"col-12","col-md-6","text-white","text-start","text-md-end","mb-2","mb-md-0"],[1,"col-12","col-md-6","d-flex","justify-content-center","justify-content-md-end"],[3,"changePage","totalPages","currentPage"]],template:function(a,r){a&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-search",3),d("onSearch",function(p){return r.onSearchChange(p)}),l()()(),o(4,"app-hero-list-card",4),k(5,"async"),f(6,"div",5)(7,"div",6)(8,"p"),S(9),l()(),f(10,"div",7)(11,"app-pagination",8),d("changePage",function(p){return r.changePage(p)}),l()()()()),a&2&&(n(4),H("characters",b(5,5,r.characters)),n(5),w("Mostrando ",r._characters.length," resultados de ",r.totalResults," items"),n(2),H("totalPages",r.paginate.countPage)("currentPage",r.paginate.currentPage))},dependencies:[F,T,G,A],styles:["h1[_ngcontent-%COMP%]{font:800 26px/1 RobotoCondensed,Trebuchet MS,Helvetica,Arial,sans-serif;letter-spacing:1px}.form-control-dark[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;border:none}.form-control-dark[_ngcontent-%COMP%]:focus{box-shadow:none}.input-group-text[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}"]});let s=c;return s})();var I=(()=>{let c=class c{constructor(e,a,r,V){this.router=e,this.characterService=a,this.loadingService=r,this.ref=V}ngOnInit(){this.idCharacter=this.router.snapshot.params.id}};c.\u0275fac=function(a){return new(a||c)(i(y),i(M),i(h),i(v))},c.\u0275cmp=z({type:c,selectors:[["app-hero-detail-page"]],decls:7,vars:2,consts:[[1,"container","flex","just","card-container","pt-4"],["routerLink","/",1,"btn","btn-outline-secondary"],[1,"fas","fa-chevron-left"],[1,"card","shadow","m-2"],[3,"idCharacter"]],template:function(a,r){a&1&&(f(0,"div",0)(1,"a",1),o(2,"i",2),l(),f(3,"div",3),o(4,"app-hero-detail",4),l(),f(5,"div",3),o(6,"app-comic-list",4),l()()),a&2&&(n(4),H("idCharacter",r.idCharacter),n(2),H("idCharacter",r.idCharacter))},dependencies:[P,R,U],styles:[".card[_ngcontent-%COMP%]{border:none}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.card-text[_ngcontent-%COMP%]{font-size:1.1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#c82333}.card-container[_ngcontent-%COMP%]{height:calc(100vh - 8rem);overflow-y:auto}"]});let s=c;return s})();var j={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]};var $={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},X=$;var c2={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Q=c2;var K=(()=>{let c=class c{constructor(){this.icons={faCog:X,faHome:Q,faUser:j},this.currentYear=new Date().getFullYear()}getFooterText(){return`&copy; ${new Date().getFullYear()} Marvel. Todos los derechos reservados. | <a href="#">T\xE9rminos de uso</a> | <a href="#">Pol\xEDtica de privacidad</a> | <a href="#">Cookies</a> | <a href="#">Aviso legal</a>`}};c.\u0275fac=function(a){return new(a||c)},c.\u0275cmp=z({type:c,selectors:[["app-pages"]],decls:9,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","fixed-top"],[1,"container-fluid","justify-content-center"],["href","#",1,"navbar-brand"],["src","./assets/logo.png","alt","Logo",1,"img-fluid",2,"height","80px"],[1,"container","border","mt-2","bg-dark","rounded",2,"--bs-bg-opacity",".9"],[1,"bg-dark","text-white","text-center","mt-4","p-2"],[1,"container"],[3,"innerHTML"]],template:function(a,r){a&1&&(f(0,"nav",0)(1,"div",1)(2,"a",2),o(3,"img",3),l()()(),f(4,"div",4),o(5,"router-outlet"),l(),f(6,"footer",5)(7,"div",6),o(8,"p",7),l()()),a&2&&(n(8),H("innerHTML",r.getFooterText(),N))},dependencies:[B],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}p[_ngcontent-%COMP%]{margin:0}@media (max-width: 576px){p[_ngcontent-%COMP%]{font-size:.8rem}}"]});let s=c;return s})();var a2=[{path:"",component:K,children:[{path:"home",component:O},{path:"character/:id",component:I},{path:"",redirectTo:"home",pathMatch:"full"}]}],J=(()=>{let c=class c{};c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=t({type:c}),c.\u0275inj=m({imports:[u.forChild(a2),u]});let s=c;return s})();var A2=(()=>{let c=class c{};c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=t({type:c}),c.\u0275inj=m({imports:[J,W,E]});let s=c;return s})();export{A2 as PagesModule};
